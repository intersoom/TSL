### SSR

- μ„λ²„μ—μ„ λ λ”λ§μ„ λ§μΉ νμ΄μ§€λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² λ¨Όμ € λ³΄λ‚΄μ£Όλ” κ²ƒ
- JSκ°€ μ—°κ²°λμ§€ μ•μ•„μ„, μ‚¬μ©μμ™€ μƒνΈμ‘μ©μ΄ λ¶κ°€λ¥
    
    β†’ hydration : μƒνΈμ‘μ©μ„ κ°€λ¥ν•κ² ν•΄μ¤
    
### μ„λ²„ μ»΄ν¬λ„νΈ

- μ„λ²„μ—μ„ λ λ”λ§μ΄ λ μ΄ν›„μ—λ” μ¶”κ°€μ μΈ μ‘μ—…μ΄ ν•„μ” μ—†λ‹¤κ³  λκ»΄μ§€λ” κ²ƒ
- μ‚¬μ©μμ™€ μƒνΈμ‘μ©μ΄ μ—†μ§€λ§, λ¬΄κ±°μ΄ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•λ” κ²½μ° μ©μ΄ν•¨

---

- **μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ‹¤λ©΄,**
    - μ¤μ§ μ„λ²„μ—μ„λ§ μ‹¤ν–‰λλ” μ»΄ν¬λ„νΈλ¥Ό μƒμ„±ν•  μ μμ
    - λ¦¬μ•΅νΈ μ»΄ν¬λ„νΈ λ‚΄μ—μ„ λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬λ¥Ό μ‘μ„±ν•λ” μ‘μ—…μ„ ν•  μ μμ
- **μ„λ²„ μ»΄ν¬λ„νΈμ ν•µμ‹¬μ€ λ‹¤μ‹ λ λ”λ§ν•μ§€ μ•μ•„λ„ λλ‹¤λ” κ²ƒ**
    - μ„λ²„μ—μ„ ν• λ² λ λ”λ§ λ κ°’μ€ ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅λμ–΄μ„ μ μλ¦¬μ— κ³ μ •λκΈ° λ•λ¬Έμ— λΌμ°ν„° λ λ²¨μ λ³€κ²½μ΄ μ—†λ‹¤λ” μ „μ  ν•μ— λ³€κ²½λμ§€ μ•λ”λ‹¤.
- **κ²½κ³„μ λ¬Έμ **

    ![α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2024-03-26 α„‹α…©α„’α…® 11 57 14](https://github.com/intersoom/TSL/assets/78731710/7ed91d57-a701-4d3b-89ed-ba8b24580fce)

    - Articleμ΄ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλΌμ„ λ¦¬λ λ”λ§μ΄ ν•„μ”ν•©λ‹λ‹¤. κ·Έλ¬λ©΄ ν•μ„ κµ¬μ„± μ”μ†λ„ λ‹¤μ‹ λ λ”λ§ λμ–΄μ•Ό ν•©λ‹λ‹¤.
        
        ν•μ§€λ§, ν•μ„ μ»΄ν¬λ„νΈλ“¤μ΄ μ„λ²„ μ»΄ν¬λ„νΈλΌλ©΄ λ‹¤μ‹ λ λ”λ§ν•  λ°©λ²•μ΄ μ—†μµλ‹λ‹¤. 
        
    
    μ΄λ¥Ό μ„ν•΄μ„ λ¦¬μ•΅νΈ ν€μ΄ μ¶”κ°€ν• κ·μΉ™:
    
    ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ μ„ν¬νΈν•λ” μ»΄ν¬λ„νΈλ” λ°λ“μ‹ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ λμ–΄μ•Ό ν•λ‹¤.
    
    κ·Έλμ„ λ¨λ“  κ³³μ— use clientλ¥Ό μ“Έ ν•„μ”λ” μ—†μ ! β†’ κ²½κ³„κ°€ μ‹μ‘λλ” λ¶€λ¶„μ—λ§ μ‘μ„±ν•λ©΄ λ¨ 
    
    - κ·Έλ ‡λ‹¤λ©΄, μƒμ„ μ»΄ν¬λ„νΈμ—μ„ μƒνƒλ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ©΄ λ¨λ“  κ²ƒμ΄ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ λμ–΄μ•Ό ν•λ‚?
        
        **NO**
        
        μ–΄λ–»κ²?
        
        **β€κ²½κ³„β€**λ” λ¶€λ¨-μμ‹μ λ¬Έμ κ°€ β, μ†μ μμ λ¬Έμ  β­•οΈ
        
        ```jsx
        'use client'
        
        function Homepage() {
        	// μƒνƒ κ΄€λ ¨ μ½”λ“λ“¤..
        	return (
        		<body style={colorVariable}>
        			<Header />
        			<MainCount />
        		</body>
        	)
        }
        ```
        β†’  μ΄ λ•, `Homepage`λ” μƒνƒλ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ‹κΉ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ λμ–΄μ•Ό ν•¨
        
        κ·Έλ ‡κ² λλ©΄, `<Header>`μ™€ `<MainCount>`λ„ μ•”μ‹μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ λ¨
        
        μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄μ„
        
        μƒνƒ κ΄€λ ¨ μ½”λ“λ“¤μ„ μƒλ΅μ΄ μ»΄ν¬λ„νΈλ΅ λΉΌλ²„λ¦¬λ©΄ λ¨ !!
        
        ```jsx
        'use client'
        
        function ColorProvider() {
        	// μƒνƒ κ΄€λ ¨ μ½”λ“λ“¤..
        	
        	return (
        		<body style={colorVariable}>
        			{children}
        		</body>
        	)
        }
        ```
        
        ```jsx
        function Homepage() {
        	return (
        		<ColorProvider>
        			<Header />
        			<MainCount />
        		</ColorProvider>
        	)
        }
        ```
        
        β†’ λ” μ΄μƒ `Homepage`μ—λ” `'use client'` λ¬Έμ΄ ν•„μ” μ—†λ‹¤!
        
        β†’ `Homepage`κ°€ Header, `MainCount`λ¥Ό μ†μ ν•κ³  μλ” κ²ƒμ΄κΈ° λ•λ¬Έμ— `ColorProvider`κ°€ λ¶€λ¨λ“  λ§λ“  μƒκ΄€ μ—†μ!
        

### SSR vs μ„λ²„ μ»΄ν¬λ„νΈ

- **SSR**
    
    ```jsx
    import marked from "marked" // 35.9K
    import sanitizeHtml from "sanitize-html" // 206K
    
    function NoteWithMarkdown({text}){
    	cont html = sanitizeHtml(marked(text));
    	return (/* render */);
    }
    ```
    
    1. μ»΄ν¬λ„νΈ λ λ”λ§ ν™”λ©΄μ„ ν΄λΌμ΄μ–ΈνΈμ— λ³΄λ‚΄κ³ 
    2. hydrationμ„ μ„ν•΄μ„ `marked`, `sanitizeHtml` λΌμ΄λΈλ¬λ¦¬λ¥Ό λ λ³΄λƒ„
- **Server Component**
    
    ```jsx
    import marked from "marked" // zero bundle
    import sanitizeHtml from "sanitize-html" // zero bundle
    
    function NoteWithMarkdown({text}){
    	cont html = sanitizeHtml(marked(text));
    	return (/* render */);
    }
    ```
    
    β†’ ν΄λΌμ΄μ–ΈνΈμ—μ„ hydration ν•„μ” μ—†κΈ° λ•λ¬Έμ—, bundle μ•„μ λ³΄λ‚΄μ§€ μ•μ
    
    **β οΈΒ μ£Όμ β οΈ**
    
    - μΌλ°μ μΈ μ»΄ν¬λ„νΈμ²λΌ effect, stateλ¥Ό κ°€μ§ μ μ—†μ
    - BUT νμΌ λ¶„λ¦¬ μ ν•λ©΄ λ¨ (μ½”λ“ μ¤ν”λ¦¬ν… ν™μ© π‘π»)
    
    - ! DBμ— μ§μ ‘ μ ‘κ·Ό κ°€λ¥ν•¨ !
