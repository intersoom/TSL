# React Hook

## Hookì´ë€?
> React ë²„ì „ 16.8ë¶€í„° Reactì˜ ìš”ì†Œë¡œ ì¶”ê°€ëœ ê¸°ëŠ¥ì´ë‹¤.
  ê¸°ì¡´ì˜ í´ë˜ìŠ¤ ë°”íƒ•ì˜ ì½”ë“œë¥¼ ì‘ì„±í•  í•„ìš” ì—†ì´ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒíƒœê°’ê³¼ ë¦¬ì•¡íŠ¸ì˜ ì—¬ëŸ¬ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## Hookì´ ì™œ ìƒê²¨ë‚¬ëŠ”ê°€?
ê¸°ì¡´ì˜ Reactì—ì„œëŠ” UIì™€ ê´€ë ¨ì—†ëŠ” ë¡œì§ë“¤ì´ ìƒê²¨ë‚  ê²½ìš°, ì´ë“¤ì„ ì¬ì‚¬ìš©í•˜ëŠ”ë° ì–´ë ¤ì›€ì„ ê²ªì—ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ `render-props`, `high order component`ì™€ ê°™ì€ íŒ¨í„´ë“¤ì„ ì´ìš©í–ˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ, ì´ëŸ¬í•œ íŒ¨í„´ë“¤ì€ ì»´í¬ë„ŒíŠ¸ì˜ ì¬êµ¬ì„±ì„ ê°•ìš”í•©ë‹ˆë‹¤.
ê·¸ë˜ì„œ ì½”ë“œì˜ êµ¬ì„±ì´ ë‹¤ìŒì™€ ê°™ì€ ê·¸ë¦¼(`wrapper hell`)ê³¼ ê°™ì´ ë˜ë²„ë¦¬ì£ . 
![image](https://github.com/intersoom/TSL/assets/78731710/648e84ab-2c03-478f-943c-e157172a6c63)

ì´ëŸ¬í•œ ì½”ë“œì˜ êµ¬ì„±ì€ 
- ì½”ë“œì˜ ì¶”ì ì„ ì–´ë µí•œë‹¤
- ì„±ëŠ¥ì—ë„ ì•…ì˜í–¥ì„ ë¯¸ì¹œë‹¤

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ë§Œë“¤ì–´ì§„ê²Œ Hookì…ë‹ˆë‹¤.
ì´ëŠ” ê³„ì¸µì˜ ë³€í™”ê°€ ì—†ì´ë„ ìƒíƒœ ê´€ë ¨ ë¡œì§ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

ë˜í•œ, í´ë˜ìŠ¤ëŠ” í˜¼ë€ìŠ¤ëŸ½ê²Œ í•˜ëŠ” ì§€ì ë“¤ì´ ë‹¤ìˆ˜ ì¡´ì¬í•©ë‹ˆë‹¤ (ì˜ˆë¥¼ ë“¤ì–´, `this`).
ê·¸ë˜ì„œ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë¥¼ ì§€í–¥í•˜ëŠ”ë°, hookì´ ì´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.

## Hookì˜ ì‚¬ìš© ê·œì¹™
> [ë¦¬ì•¡íŠ¸ ê³µì‹ ë¬¸ì„œ: Hook ê·œì¹™](https://ko.legacy.reactjs.org/docs/hooks-rules.html#only-call-hooks-at-the-top-level)

âœ…  **ìµœìƒìœ„(at the Top Level)ì—ì„œë§Œ Hookì„ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤.** </br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ë°˜ë³µë¬¸, ì¡°ê±´ë¬¸, ì¤‘ì²©ëœ í•¨ìˆ˜ ë‚´ì—ì„œ Hookì„ ì‹¤í–‰í•˜ë©´ ì˜ˆìƒí•œ ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìš°ë ¤ê°€ ìˆìŠµë‹ˆë‹¤.</br>
âœ…  **ì˜¤ì§ ë¦¬ì•¡íŠ¸ í•¨ìˆ˜ ë‚´ì—ì„œë§Œ ì‚¬ìš©ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.** </br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ë¦¬ì•¡íŠ¸ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë‚˜ ì»¤ìŠ¤í…€ Hookì´ ì•„ë‹Œ ë‹¤ë¥¸ ì¼ë°˜ JavaScript í•¨ìˆ˜ ì•ˆì—ì„œ í˜¸ì¶œí•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.</br>

## Hookì˜ ì‘ë™ ë°©ì‹
### useStateì˜ ì‘ë™ ë°©ì‹
Hookì˜ ì‘ë™ ë°©ì‹ì€ Javascriptì˜ [í´ë¡œì €](https://github.com/intersoom/TSL/blob/main/Front-end/Javascript/Closure.md)ì— ê¸°ë°˜ë˜ì–´ìˆìŠµë‹ˆë‹¤.

useStateì˜ êµ¬ì„±ì„ ë³´ë©´ ì´ ë„¤ê°€ì§€ ë³€ìˆ˜ë¡œ ì´ë£¨ì–´ì ¸ìˆìŠµë‹ˆë‹¤.
```
let state = [];
let setters = [];
let firstRun = true;
let cursor = 0;
```

ê°ê° ë¬´ì—‡ì¸ì§€ ì„¤ëª…í•´ë³´ê² ìŠµë‹ˆë‹¤.
- `state`ì™€ `setter`ëŠ” ê°ê° ìš°ë¦¬ê°€ í”íˆ state, setStateë¡œ ì•Œê³  ìˆëŠ” ê°’ë“¤ì„ ë‹´ì•„ì£¼ëŠ” ë°°ì—´ì…ë‹ˆë‹¤.
- `firstRun`ì€ ì²« ë Œë”ë§ ë˜ì—ˆëŠ”ì§€ì— ëŒ€í•œ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ì£¼ëŠ” ë³€ìˆ˜ì…ë‹ˆë‹¤.
- `cursor`ëŠ” ìš°ë¦¬ê°€ ëª‡ ë²ˆì§¸ stateì— ì ‘ê·¼í•˜ë ¤ê³  í•˜ëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ë³€ìˆ˜ì…ë‹ˆë‹¤. stateë¥¼ ë³€ìˆ˜ì— ë‹´ì•„ë’€ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•©ë‹ˆë‹¤.

ì´ì œë¶€í„° ì•ì„œ ì–¸ê¸‰í•œ í´ë¡œì €ê°€ ë“±ì¥í•©ë‹ˆë‹¤.
`setter`ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” í•¨ìˆ˜, `createSetter`ë¼ëŠ” í•¨ìˆ˜ì— ëŒ€í•´ì„œ ì•Œì•„ë³¼ ê²ƒì…ë‹ˆë‹¤.


í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì°¬ì°¬íˆ ëœ¯ì–´ë³´ë©´,
`cursor` ê°’ì„ ì¸ìë¡œ ë°›ì•„ì„œ `state[cursor]`ì— ì ‘ê·¼í•´ì„œ ìƒˆë¡œìš´ ê°’(`newVal`)ì„ ì…ë ¥í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë°˜í™˜í•´ì£¼ê³  ìˆìŠµë‹ˆë‹¤.
> ì´ ë¶€ë¶„ì´ í´ë¡œì €ê°€ ì ìš©ëœ ë¶€ë¶„ì…ë‹ˆë‹¤.</br>
ë‚˜ì¤‘ì— `setterWithCursor`ê°€ `createSetter` ì—†ì´ í•¨ìˆ˜ê°€ ë‹´ê¸´ ë³€ìˆ˜ë¥¼ í†µí•´ì„œ í˜¹ì€ ë°°ì—´ì˜ ì¸ë±ìŠ¤ë¥¼ í†µí•´ì„œ ì ‘ê·¼í–ˆì„ ë•Œë„ í•´ë‹¹ í•¨ìˆ˜ëŠ” `cursor`ì˜ ê°’ì— ì ‘ê·¼ ê°€ëŠ¥í•  ê²ƒì…ë‹ˆë‹¤.
```
function createSetter(cursor) {
  return function setterWithCursor(newVal) {
    state[cursor] = newVal;
  };
}
```

ë‹¤ìŒìœ¼ë¡œ useStateì˜ pseudocodeë¥¼ ë³´ê² ìŠµë‹ˆë‹¤.

```
// This is the pseudocode for the useState helper
export function useState(initVal) {
  if (firstRun) {
    state.push(initVal);
    setters.push(createSetter(cursor));
    firstRun = false;
  }

  const setter = setters[cursor];
  const value = state[cursor];

  cursor++;
  return [value, setter];
}
```

`firstRun`ì˜ ì´ˆê¸°ê°’ì€ falseì´ê¸° ë•Œë¬¸ì— í•´ë‹¹ ì¡°ê±´ë¬¸ë¶€í„° ì‹¤í–‰ì´ ë  ê²ƒì…ë‹ˆë‹¤.</br></br>
`firstRun`ì¼ ê²½ìš°ì— :
- useState(initValue)ì—ì„œ ë„£ì–´ì¤€ ê°’(initValue)ì„ stateì˜ ì´ˆê¸°ê°’ìœ¼ë¡œ `state` ë°°ì—´ì— ë„£ì–´ì¤ë‹ˆë‹¤.
- ì•ì„œ ì–¸ê¸‰í•œ `createSetter` í•¨ìˆ˜ë¥¼ í™œìš©í•´ì„œ setterWithCursor í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ `setters` ë°°ì—´ì— ë„£ì–´ì¤ë‹ˆë‹¤.
- ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ì œ ë” ì´ìƒ ì´ˆê¸°ì‹¤í–‰ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— `firstRun` ê°’ì„ falseë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤.
ê·¸ë¦¬ê³  cursor ê°’ì„ ++ í•´ì£¼ê³  ìš°ë¦¬ê°€ ì•„ëŠ” useStateì˜ í˜•ì‹ì— ë§ê²Œ ë°°ì—´ì„ ë°˜í™˜í•´ì¤ë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ hookì„ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë˜ëŠ” ë¶€ë¶„ì„ ë³´ê² ìŠµë‹ˆë‹¤.
```
function RenderFunctionComponent() {
  const [firstName, setFirstName] = useState("Rudi"); // cursor: 0
  const [lastName, setLastName] = useState("Yardley"); // cursor: 1

  return (
    <div>
      <Button onClick={() => setFirstName("Richard")}>Richard</Button>
      <Button onClick={() => setFirstName("Fred")}>Fred</Button>
    </div>
  );
}
```
- useState("Rudi") ì‹¤í–‰ ì‹œ, cursorê°€ 0ì´ì—ˆìœ¼ë¯€ë¡œ ì´ì— ë§ì¶”ì–´ stateì™€ setterê°€ ì‹¤í–‰ë˜ê³  ë°°ì—´ì— ë“¤ì–´ê°”ì„ê²ë‹ˆë‹¤.
- useState("Yardley") ì‹¤í–‰ ì‹œ, cursorê°€ ì•ì„  useState ì‹¤í–‰ìœ¼ë¡œ ì¸í•´ì„œ ++ë˜ì—ˆìœ¼ë¯€ë¡œ 1ì…ë‹ˆë‹¤. ì´ì— ë§ì¶”ì–´ stateì™€ setterê°€ ì‹¤í–‰ë˜ê³  ë°°ì—´ì— ë“¤ì–´ê°”ì„ê²ë‹ˆë‹¤.

```
// This is sort of simulating Reacts rendering cycle
function MyComponent() {
  cursor = 0; // resetting the cursor
  return <RenderFunctionComponent />; // render
}
```
Reactì˜ ë Œë”ë§ ì‚¬ì´í´ì„ ëª¨ë°©í•´ì„œ ì´ì²˜ëŸ¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶ˆëŸ¬ì™€ë³´ê² ìŠµë‹ˆë‹¤.
```
console.log(state); // Pre-render: []
MyComponent();
console.log(state); // First-render: ['Rudi', 'Yardley']
MyComponent();
console.log(state); // Subsequent-render: ['Rudi', 'Yardley']

// click the 'Fred' button

console.log(state); // After-click: ['Fred', 'Yardley']
```
ì´ë ‡ê²Œ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•  ê²ƒì´ë¼ê³  ì˜ˆìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë‹¤ì‹œ ë§í•´, ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë•Œë§ˆë‹¤ `cursor`ëŠ” 0ë¶€í„° ì‹œì‘í•˜ê³  1íšŒ ë Œë”ë§ ì‹œì—ì„œ useStateë¥¼ 1ë²ˆ í˜¸ì¶œ í•  ë•Œë§ˆë‹¤ `cursur`ê°€ ++ë˜ë©´ì„œ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì— ì¡´ì¬í•˜ëŠ” stateë“¤ì— ì ‘ê·¼í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

#### â• ë°˜ë³µë¬¸, ì¤‘ì²©ë¬¸, ì¡°ê±´ë¬¸ ë‚´ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ì´ìœ 
ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ useStateê°€ ë§Œë“¤ì–´ì§€ê³  ì‚¬ìš©ë˜ëŠ”ë°,</br>
ì¤‘ê°„ì— ì¡°ê±´ë¬¸ì´ ê»´ì„œ ë‹¤ìŒê³¼ ê°™ì´ useStateê°€ ì²«ë Œë”ì—ë§Œ ì„ ì–¸ì´ ë˜ê³  ê·¸ ë‹¤ìŒë¶€í„° í˜¸ì¶œì´ ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì–´ë–¨ê¹Œìš”? ğŸ¤”
```
let firstRender = true;

function RenderFunctionComponent() {
  let initName;
  
  if(firstRender){
    [initName] = useState("Rudi");
    firstRender = false;
  }
  const [firstName, setFirstName] = useState(initName);
  const [lastName, setLastName] = useState("Yardley");

  return (
    <Button onClick={() => setFirstName("Fred")}>Fred</Button>
  );
}
```
- `firstRender`ì—ì„œëŠ” `cursor`ê°€ 0, 1, 2ê¹Œì§€ ì¡´ì¬í–ˆëŠ”ë° ë‹¤ìŒë²ˆ ë Œë”ë•ŒëŠ” 0, 1ë§Œ ì¡´ì¬í•  ê²ƒì…ë‹ˆë‹¤.
- ë˜í•œ, `firstRender`ì—ì„œëŠ” `cursor 0`ì´ Rudië¥¼ ë‹´ê³  ìˆì—ˆê³  `cursor 1`ì´ Rudië¥¼ ë‹´ê³  ìˆì—ˆê³  `cursor 2`ê°€ Yardleyë¥¼ ë‹´ê³  ìˆì—ˆìŠµë‹ˆë‹¤.
- ë”°ë¼ì„œ, ë‹¤ìŒë²ˆ ë Œë”ë•ŒëŠ” Rudië¥¼ ê°€ë¥´í‚¤ê³  ìˆë˜ `cursor1`ì´ `cursor 0`ì´ ë˜ì–´ì„œ ë˜ë‹¤ë¥¸ Rudië¥¼ ê°€ë¥´í‚¬ ê²ƒì´ê³  Yardleyë¥¼ ê°€ë¥´í‚¤ê³  ìˆë˜ `cursor2`ê°€ `cursor1`ì´ ë˜ì–´ì„œ Rudië¥¼ ê°€ë¥´í‚¬ ê²ƒì…ë‹ˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì´ ìƒíƒœê°€ ì˜ëª» ì°¸ì¡°ë˜ëŠ” ì¼ì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— **ë°˜ë³µë¬¸, ì¤‘ì²©ë¬¸, ì¡°ê±´ë¬¸ ë‚´ì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤!**

### useEffectì˜ ì‘ë™ ë°©ì‹
ìƒíƒœì˜ ë³€í™”ì— ë”°ë¥¸ ì‚¬ì´ë“œ ì´í™íŠ¸ë¥¼ ìœ„í•´ì„œëŠ” `useEffect`ê°€ í•„ìš”í•©ë‹ˆë‹¤.
ê¸°ë³¸ì ì¸ ì‘ë™ ë°©ì‹ì€ ì˜ì¡´ì„± ë°°ì—´ ì•ˆì— ìˆëŠ” ìƒíƒœë¥¼ ê´€ì°°í•˜ê³  ìƒíƒœì— ë³€í™”ê°€ ìˆë‹¤ë©´, ì½œë°±ì´ ì‹¤í–‰ë˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.
ë Œë”ë§ì‹œ, ìµœì´ˆì— í•œ ë²ˆë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤.
ì˜ì¡´ì„± ë°°ì—´ì´ ë¹„ì–´ìˆë‹¤ë©´, ìµœì´ˆ ë Œë”ë§ í•œë²ˆì‹œì—ë§Œ ì½œë°±ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.

ë”°ë¼ì„œ ë‹¤ì‹œ ë§í•´, ì˜ì¡´ì„± ë°°ì—´ì„ ê´€ì°°í•˜ë©´ì„œ ê°’ì´ ë³€í–ˆë‹¤ë©´ ì½œë°± í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ê³  ê·¸ë ‡ì§€ ì•Šë‹¤ë©´, ì‹¤í–‰í•˜ì§€ ì•Šê²Œ ë§Œë“¤ë©´ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```
const React = (function() {
  let hooks = []
  let idx = 0
  
  function useEffect(callback, depArray) {
    const oldDeps = hooks[idx] // ì´ë¯¸ ì €ì¥ë˜ì–´ìˆë˜ ì˜ì¡´ ê°’ ë°°ì—´ì´ ìˆëŠ”ì§€ ë³¸ë‹¤.
    let hasChanged = true
  
    if (oldDeps) {
      // ì˜ì¡´ ê°’ ë°°ì—´ì˜ ê°’ ì¤‘ì—ì„œ ì°¨ì´ê°€ ë°œìƒí–ˆëŠ”ì§€ í™•ì¸í•œë‹¤.
      hasChanged = depArray.some((dep, i) => !Object.is(dep, oldDeps[i]))
    }
    // ê°’ì´ ë°”ë€Œì—ˆìœ¼ë‹ˆ ì½œë°±ì„ ì‹¤í–‰í•œë‹¤.
    if (hasChanged) {
      callback()
    }
    // useEffectë„ í›…ì˜ ì¼ë¶€ë¶„ì´ë‹¤. hooks ë°°ì—´ì— ë„£ì–´ì„œ ê´€ë¦¬í•´ì¤€ë‹¤.
    hooks[idx] = depArray
    idx++
  }

  function render(Component) {
    idx = 0 // ëœë”ë§ ì‹œ í›…ì˜ ì¸ë±ìŠ¤ë¥¼ ì´ˆê¸°í™”í•œë‹¤.
    const C = Component()
    C.render()
    return C
  }
  return { useEffect, render }
})()
```

ë”°ë¼ì„œ ìœ„ì™€ ê°™ì´ êµ¬í˜„í•˜ì—¬ì„œ `oldDeps`ì™€ì˜ ì°¨ì´ë¥¼ í™•ì¸í•˜ê³  ê·¸ë ‡ë‹¤ë©´, ì½œë°±í•¨ìˆ˜ ì‹¤í–‰ ì•„ë‹ˆë©´ ì‹¤í–‰í•˜ì§€ ì•Šê²Œ ë§Œë“¤ì–´ìŠµë‹ˆë‹¤.

## Hookì˜ ì¢…ë¥˜
#### ê¸°ë³¸ Hook
- [useState](#usestate)
- [useEffect](#useeffect)
- useContext
#### ì¶”ê°€ Hooks
- useReducer
- useCallback
- useMemo
- useRef
- useImperativeHandle
- useLayoutEffect
- useDebugValue
- useTransition
- useId

ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ë©´ ì´ë ‡ê²Œ ìˆìŠµë‹ˆë‹¤. ì €ëŠ” ì¼ë‹¨, ìì£¼ ì‚¬ìš©í•˜ëŠ” useState ~ useRefê¹Œì§€ë§Œ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.
### useState
`state`ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìœ ì € ì…ë ¥ê³¼ ê°™ì€ ì •ë³´ë¥¼ ê¸°ì–µí•˜ê²Œ í•´ì£¼ëŠ” ë™ì ì¸ ìƒíƒœê°’ì…ë‹ˆë‹¤.
`useState`ëŠ” ì´ëŸ¬í•œ ìƒíƒœê°’ê³¼ ê·¸ ê°’ì„ ê°±ì‹ í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

ì‚¬ìš©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
```
import { useState } from 'react';

const [state, setState] = useState(ì´ˆê¸°ê°’);
 
/* ìˆ«ìí˜• */
const [state, setState] = useState(0);
 
/* ë¬¸ìí˜• */
const [state, setState] = useState('');
 
/* Array */
const [state, setState] = useState([]);
 
/* object */
const [state, setState] = useState({});
 
/* boolean */
const [state, setState] = useState(true);
```

`setState`ë¥¼ í†µí•´ì„œ `state`ë¥¼ ê°±ì‹ í•˜ë©´, ìƒˆ `state` ê°’ì„ ë°›ì•„ì„œ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ì„ íì— ë“±ë¡í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ë‹¤ìŒ ë¦¬ë Œë”ë§ ì‹œì— ë°˜í™˜ë°›ì€ `state` ê°’ì€ í•­ìƒ ê°±ì‹ ëœ ìµœì‹  `state`ì…ë‹ˆë‹¤.

í•¨ìˆ˜ì ì¸ ê°±ì‹ ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.
ì´ì „ `state`ê°’ì„ ì´ìš©í•´ì„œ ìƒˆë¡œìš´ `state` ê°’ì„ ê³„ì‚°í•˜ëŠ” ê²½ìš°, ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
```
function Counter({initialCount}) {
  const [count, setCount] = useState(initialCount);
  return (
    <>
      Count: {count}
      <button onClick={() => setCount(initialCount)}>Reset</button>
      <button onClick={() => setCount(prevCount => prevCount - 1)}>-</button>
      <button onClick={() => setCount(prevCount => prevCount + 1)}>+</button>
    </>
  );
}
```

ì´ë•Œ, ì£¼ì˜í•  ì ì€ ì—…ë°ì´íŠ¸ í•¨ìˆ˜ê°€ í˜„ì¬ ìƒíƒœì™€ ì •í™•íˆ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•œë‹¤ë©´ ë°”ë¡œ ë’¤ì— ì¼ì–´ë‚  ë¦¬ë Œë”ë§ì€ ë¬´ì‹œë©ë‹ˆë‹¤.
ì¡°ê¸ˆ ë” ìì„¸í•˜ê²Œ ë“¤ì–´ê°€ë³´ê² ìŠµë‹ˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆë‹¤ê³  í•´ë´…ì‹œë‹¤.
```
const [movie, setMovie] = useState(['ì–´ë°”ì›ƒíƒ€ì„', 'ì´í„°ë„ ì„ ìƒ¤ì¸', '500ì¼ì˜ ì¸ë¨¸']);
...ìƒëµ...
onClick={()=> {
          let copy = movie;
          copy[0] = 'ê½ƒë‹¤ë°œ ê°™ì€ ì‚¬ë‘ì„ í–ˆë‹¤';
          setMovie(copy)
        }}
```
ì´ ë•Œ, ê°ì²´ë‚˜ ë°°ì—´ì˜ ê²½ìš°ì—ëŠ” ì›ë³¸ ë°ì´í„°ë¥¼ ì§ì ‘ ì¡°ì‘í•˜ëŠ” ê²ƒë³´ë‹¤ ê¸°ì¡´ ë°ì´í„°ëŠ” ë³´ì¡´ë˜ë„ë¡ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ê¸° ë•Œë¬¸ì— copyë¼ëŠ” ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ë³µì‚¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ, onClickì„ ì‹¤í–‰í•´ë„ movie stateì˜ [0] ê°’ì´ ë³€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì•ì„œ ë§ì”€ë“œë¦°ëŒ€ë¡œ **ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•œë‹¤ë©´ ë°”ë¡œ ë’¤ì— ì¼ì–´ë‚  ë¦¬ë Œë”ë§ì´ ë¬´ì‹œëœ ê²ƒ**ì¼ê²ë‹ˆë‹¤. (Reactì—ì„œëŠ” [Object.is ë¹„êµ ì•Œê³ ë¦¬ì¦˜](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/is#Description) ì‚¬ìš©)
ê°’ì„ ë³€ê²½í–ˆëŠ”ë°, ì™œ ë™ì¼í•œ ê°’ìœ¼ë¡œ ì¸ì‹ë˜ê³  ë¦¬ë Œë”ë§ì´ ë¬´ì‹œëœê±¸ê¹Œìš”?

ì´ëŠ” Reactë³´ë‹¤ëŠ” Javascriptì— ëŒ€í•œ ì´í•´ë„ê°€ í•„ìš”í•©ë‹ˆë‹¤. 

Javascript ì—”ì§„ì—ëŠ” ìŠ¤íƒê³¼ í™ì´ë¼ëŠ” ì˜ì—­ì´ ì¡´ì¬í•©ë‹ˆë‹¤.
ìŠ¤íƒì€ ì›ì‹œê°’ê³¼ ê°™ì€ ì •ì  ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ëŠ” ê³µê°„ì´ê³  í™ì€ ì°¸ì¡°ê°’ê³¼ ê°™ì€ ë™ì  ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤.
ì´ ë•Œ, Javascriptì˜ ëª¨ë“  ë³€ìˆ˜ëŠ” ìŠ¤íƒì„ ê°€ë¦¬í‚µë‹ˆë‹¤. ì›ì‹œ ê°’ì´ ì•„ë‹Œ ê²½ìš°ì—ëŠ” ìŠ¤íƒì—ëŠ” í™ì˜ ê°ì²´ì— ëŒ€í•œ ì°¸ì¡°ê°€ í¬í•¨ë©ë‹ˆë‹¤.
ì™œëƒí•˜ë©´, ì•ì„œ ì–¸ê¸‰í•œëŒ€ë¡œ Javascriptì—ì„œ ê°ì²´ì™€ í•¨ìˆ˜ëŠ” í™ì— ì €ì¥ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ì¡°ê¸ˆ ë” ëª…ì‹œì ìœ¼ë¡œ ì„¤ëª…í•´ë³´ìë©´,
```
const dog = {
  name: 'puppy',
  id: 1
}
```
ì—ì„œ `dog`ëŠ” ìŠ¤íƒ ì˜ì—­ì— ì €ì¥ë˜ê³  `{name, id}`ì˜ ë‚´ìš©ì€ í™ ì˜ì—­ì— ì €ì¥ë©ë‹ˆë‹¤.
ê·¸ë˜ì„œ `dog`ì™€ í•¨ê»˜ ìŠ¤íƒ ì˜ì—­ì—ëŠ” í™ ì˜ì—­ì— ì¡´ì¬í•˜ëŠ” `{name, id}`ì— ëŒ€í•œ ì°¸ì¡°ê°€ í•¨ê»˜ ì €ì¥ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ë‹¤ì‹œ `useState` ë‚´ìš©ìœ¼ë¡œ ëŒì•„ê°€ë³´ê² ìŠµë‹ˆë‹¤.

ìŠ¤íƒì— ì €ì¥ë˜ì–´ìˆëŠ” movieì˜ ê°’ì´ ë³€í–ˆì„ê¹Œìš”? ì•„ë‹™ë‹ˆë‹¤.
ê°™ì€ ê³³ì„ ì°¸ì¡°í•˜ê³  ìˆê³  ì°¸ì¡°í•˜ê³  ìˆëŠ” í™ì˜ ì˜ì—­ì´ ë³€ê²½ë˜ì—ˆì„ ë¿ì…ë‹ˆë‹¤.
ê·¸ë ‡ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ `setMovie()`ê°€ `state`ê°€ ë³€ê²½ë˜ì—ˆë‹¤ê³  ì¸ì‹í• ê¹Œìš”? ìƒˆë¡œìš´ ë°°ì—´ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ í•˜ë©´ ë˜ê² ì£ ? ê·¸ë ‡ë‹¤ë©´ ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¤ì–´ì¤˜ì„œ ìŠ¤íƒì— ìˆëŠ” ë³€ìˆ˜ì˜ ì°¸ì¡°ê°’ì„ ë°”ê¿”ì¤˜ì•¼í•©ë‹ˆë‹¤.

ê°„ë‹¨í•œ ë°©ë²•ì€ Javascriptì˜ `ì „ê°œ êµ¬ë¬¸ ë¬¸ë²•`ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
ì „ê°œ êµ¬ë¬¸ ë¬¸ë²•ì€ ë°°ì—´ì˜ ë‚´ìš©ì„ í¼ì³ì„œ **ìƒˆë¡œìš´ ë°°ì—´**ì„ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.
ë‹¤ì‹œ ë§í•´, í™ì˜ ì˜ì—­ì— ìƒˆë¡œìš´ ê³µê°„ì´ ë§Œë“¤ì–´ì§€ê³  ìŠ¤íƒì— ìˆëŠ” copyì˜ ì°¸ì¡°ê°’ì€ ìƒˆë¡œìš´ ê³µê°„ì— ëŒ€í•œ ì°¸ì¡°ë¡œ ë°”ë€Œê²Œ ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.
```
let copy = [...movie];
```
ì´ë ‡ê²Œ ë°”ê¿”ì£¼ë©´,
```
onClick={()=> {
          let copy = [...movie]; //spread operator
          copy[0] = 'ê²¨ìš¸ì™•êµ­';
          setMovie(copy)
        }}
```
setMovieê°€ ê°’ì´ ë°”ë€ ê²ƒì„ ì¸ì§€í•˜ê³  ë¦¬ë Œë”ë§í•´ì£¼ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### useEffect
`useEffect`ëŠ” ë¦¬ì•¡íŠ¸ì˜ ìƒëª…ì£¼ê¸°ì™€ ì—°ê´€ì´ ë˜ì—ˆëŠ” í›…ì…ë‹ˆë‹¤. 
ë¦¬ì•¡íŠ¸ì˜ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì˜ ë³¸ë¬¸ ì•ˆì—ì„œëŠ” ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ë¥¼ ìˆ˜í–‰í•œë‹¤ë©´ ë§ì€ ë²„ê·¸ë“¤ê³¼ UI ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•  ê²ƒì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ë¦¬ì•¡íŠ¸ëŠ” `useEffect`ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

`useEffect`ì— ì „ë‹¬ëœ í•¨ìˆ˜ì˜ ì‹¤í–‰ ì¡°ê±´ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

- **ë§ˆìš´íŠ¸:**</br>
&nbsp;&nbsp; - ì»´í¬ë„ŒíŠ¸ê°€ í˜ì´ì§€ì— ì²˜ìŒ **ë Œë”ë§ ëœ í›„** **ë¬´ì¡°ê±´** ì‹¤í–‰</br>
- **ì—…ë°ì´íŠ¸:**</br>
&nbsp;&nbsp; - dependency ë°°ì—´ì— ë“¤ì–´ìˆëŠ” state ê°’ì´ ë³€ê²½ë  ê²½ìš° ì‹¤í–‰</br>
&nbsp;&nbsp; - ë¶€ëª¨ê°€ ë¦¬ë Œë”ë§ë˜ëŠ” ê²½ìš° ì‹¤í–‰</br>
&nbsp;&nbsp; - contextê°€ ë°”ë€” ë•Œ ì‹¤í–‰</br>
- **ì–¸ë§ˆìš´íŠ¸:**</br>
&nbsp;&nbsp; - ì»´í¬ë„ŒíŠ¸ê°€ í˜ì´ì§€ì—ì„œ ì‚¬ë¼ì§ˆ ë•Œ</br>

ì‚¬ìš©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```
// 1. ë Œë”ë§ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
useEffect(() => { ì‘ì—…ë‚´ìš© });
 
// 2. ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œ í•œ ë²ˆë§Œ ì‹¤í–‰
useEffect(() => { ì‘ì—…ë‚´ìš© },[]);
 
// 3. ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œ + dependency arrayì˜ ê°’ì´ ë³€ê²½ ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
useEffect(() => { ì‘ì—…ë‚´ìš© },[value]);
 
useEffect(() => { 
	
});
```
##### 1. ë Œë”ë§ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
ê¸°ë³¸ì ìœ¼ë¡œ useEffectì˜ ë™ì‘ì€ ì²«ë²ˆì§¸ ë Œë”ë§ì„ í¬í•¨í•œ ëª¨ë“  ë Œë”ë§ì´ ì™„ë£Œëœ í›„ë§ˆë‹¤ ì‹¤í–‰ë˜ê¸° ë©ë‹ˆë‹¤. ë”°ë¼ì„œ `1.`ì˜ ê²½ìš°, dependency ë°°ì—´ì´ ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— stateê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ (ì¦‰, í™”ë©´ì´ ë¦¬ë Œë”ë§ë  ë•Œë§ˆë‹¤) ì‹¤í–‰ì´ ë©ë‹ˆë‹¤.

##### 2. ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œ í•œ ë²ˆë§Œ ì‹¤í–‰, 3. ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œ + dependency arrayì˜ ê°’ì´ ë³€ê²½ ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
dependency ë°°ì—´ì„ ë¹ˆ ë°°ì—´ë¡œ ì£¼ë©´ ì²˜ìŒ ë§ˆìš´íŒ…ë  ë•Œ í•œ ë²ˆ ì‹¤í–‰ëœ í›„, effect(useEffect ì•ˆì— ì‘ì„±ëœ í•¨ìˆ˜)ê°€ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
ë‹¤ì‹œ ë§í•´, ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì²«ë²ˆì§¸ ë Œë”ë§ + ëª¨ë“  ë Œë”ë§ ì™„ë£Œëœ í›„ë§ˆë‹¤ ì‹¤í–‰ë˜ì§€ë§Œ, dependency ë°°ì—´ì´ **ì¡´ì¬**í•˜ëŠ” ê²½ìš°ì—ëŠ” dependency ë°°ì—´ì— ìˆëŠ” props, state ë³€ê²½ì— ë”°ë¥¸ ë¦¬ë Œë”ë§ ì‹œì—ë§Œ effectê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.
